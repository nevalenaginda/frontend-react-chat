{"version":3,"sources":["configs/router/module/PublicRoute.js","helpers/axios.js","configs/redux/action/user.js","configs/router/module/PrivateRoute.js","component/base/Button.js","component/base/Input.js","pages/Login.js","pages/Register.js","pages/ForgotPassword.js","assets/images/default-user.svg","component/module/DetailProfile.js","component/module/ListChat.js","configs/redux/action/socket.js","component/module/RoomChat.js","component/module/ProfileFriends.js","pages/Chat.js","configs/router/MainRoute.js","configs/redux/reducer/user.js","configs/redux/reducer/socket.js","configs/redux/reducer/index.js","configs/redux/store.js","App.js","reportWebVitals.js","index.js"],"names":["PublicRoute","Component","component","rest","isLogin","localStorage","getItem","render","props","to","axiosApiInstance","require","create","interceptors","request","use","a","config","headers","token","error","Promise","reject","Url","process","getProfile","dispatch","resolve","type","get","then","res","payload","data","catch","err","response","message","Error","PrivateRoute","useDispatch","useEffect","Button","className","push","join","onClick","style","disabled","children","Input","name","id","placeholder","value","onChange","required","Login","history","useHistory","useState","email","setEmail","password","setPassword","handleSubmit","event","preventDefault","axios","post","setItem","roomId","login","Swal","fire","title","text","icon","confirmButtonText","confirmButtonColor","result","isConfirmed","useSelector","state","user","loading","showConfirmButton","onSubmit","e","target","Register","isLoading","setLoading","formik","useFormik","initialValues","validationSchema","Yup","min","values","action","setValues","query","URLSearchParams","useLocation","search","confirmEmail","confirmToken","handleChange","errors","touched","ForgotPassword","showPassword","setShowPassword","handleReset","handleSend","DetailProfile","showRoomChatMobile","displaySetting","setdisplaySetting","imgUrl","setImgUrl","image","dataImage","setDataImage","editUser","setEditUser","handleEditProfile","formData","FormData","append","phone","username","bio","patch","timer","display","height","width","src","defaultUser","alt","overflowY","files","imgFiles","URL","createObjectURL","ListChat","dataTarget","lastChat","socket","listChat","senderId","targetId","emit","on","getListChat","maxWidth","RoomChat","showRoomChat","queryRole","bottomRef","useRef","showFriendsProfile","setMessage","handleDeleteChat","item","msg","showCancelButton","cancelButtonText","current","scrollIntoView","behavior","block","inline","socketId","data-toggle","aria-haspopup","aria-expanded","aria-labelledby","map","index","senderName","Date","created_at","toLocaleTimeString","hour","minute","ref","console","log","sendChat","ProfileFriends","clickedType","setClickedType","chatDataType","dummyFile","undefined","borderRadius","Array","fill","role","Chat","userList","searchUser","setSearchUser","setShowRoomChat","searchName","getAllUser","mixin","toast","position","timerProgressBar","from","removeItem","logout","onKeyUp","length","handleClickListChat","MainRoute","exact","path","initialState","userReducer","io","searchList","socketReducer","rootReducer","combineReducers","store","createStore","applyMiddleware","thunk","logger","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.30d6376c.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nfunction PublicRoute({ component: Component, ...rest }) {\r\n  const isLogin = localStorage.getItem(\"token\");\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        isLogin ? <Redirect to=\"/chat\" /> : <Component {...props} />\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nexport default PublicRoute;\r\n","const axios = require(\"axios\");\r\nconst axiosApiInstance = axios.create();\r\n\r\naxiosApiInstance.interceptors.request.use(\r\n  async (config) => {\r\n    config.headers = {\r\n      token: `${localStorage.getItem(\"token\")}`,\r\n    };\r\n    return config;\r\n  },\r\n  (error) => {\r\n    Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default axiosApiInstance;\r\n","import axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport axiosApiInstance from \"../../../helpers/axios\";\r\nconst Url = process.env.REACT_APP_API_URL;\r\n\r\nexport const login = (data) => (dispatch) => {\r\n  return new Promise((resolve, reject) => {\r\n    dispatch({ type: \"USER_REQUEST\" });\r\n    axios\r\n      .post(`${Url}/api/login`, data)\r\n      .then((res) => {\r\n        dispatch({ type: \"LOGIN\", payload: res.data.data });\r\n        localStorage.setItem(\"token\", res.data.data.token);\r\n        localStorage.setItem(\"id\", res.data.data.id);\r\n        localStorage.setItem(\"roomId\", res.data.data.roomId);\r\n        resolve(res);\r\n      })\r\n      .catch((err) => {\r\n        reject(err);\r\n        dispatch({ type: \"USER_FAILURE\", payload: err.response.data.message });\r\n      });\r\n  });\r\n};\r\n\r\nexport const logout = (socket, history) => (dispatch) => {\r\n  localStorage.removeItem(\"token\");\r\n  localStorage.removeItem(\"id\");\r\n  localStorage.removeItem(\"roomId\");\r\n  socket.emit(\"disconnected\");\r\n  history.push(\"/\");\r\n};\r\n\r\nexport const getProfile = () => (dispatch) => {\r\n  return new Promise((resolve, reject) => {\r\n    dispatch({ type: \"USER_REQUEST\" });\r\n    axiosApiInstance\r\n      .get(`${Url}/api/profile`)\r\n      .then((res) => {\r\n        dispatch({ type: \"GET_PROFILE\", payload: res.data.data });\r\n        resolve(res);\r\n      })\r\n      .catch((err) => {\r\n        dispatch({ type: \"USER_FAILURE\", payload: err.response.data.message });\r\n        reject(new Error(err));\r\n      });\r\n  });\r\n};\r\n\r\nexport const updateProfile = (data) => (dispatch) => {\r\n  return new Promise((resolve, reject) => {\r\n    const Url = process.env.REACT_APP_API_URL;\r\n    const id = localStorage.getItem(\"id\");\r\n    axiosApiInstance\r\n      .patch(`${Url}/api/user/${id}`, data)\r\n      .then((res) => {\r\n        resolve(res);\r\n      })\r\n      .catch((err) => {\r\n        reject(err);\r\n      });\r\n  });\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { getProfile } from \"../../redux/action/user\";\r\n\r\nfunction PrivateRoute({ component: Component, ...rest }) {\r\n  const dispatch = useDispatch();\r\n  const isLogin = localStorage.getItem(\"token\");\r\n\r\n  useEffect(() => {\r\n    if (isLogin) {\r\n      dispatch(getProfile());\r\n    }\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        isLogin ? <Component {...props} /> : <Redirect to=\"/\" />\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nexport default PrivateRoute;\r\n","import React from \"react\";\r\nimport propTypes from \"prop-types\";\r\n\r\nfunction Button(props) {\r\n  const className = [\"btn\"];\r\n  className.push(props.className);\r\n  return (\r\n    <button\r\n      type={props.type}\r\n      className={className.join(\" \")}\r\n      onClick={props.onClick}\r\n      style={props.style}\r\n      disabled={props.disabled}\r\n    >\r\n      {props.children}\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  className: propTypes.string,\r\n  type: propTypes.string,\r\n  onClick: propTypes.func,\r\n  style: propTypes.object,\r\n  disabled: propTypes.func,\r\n};\r\nexport default Button;\r\n","import React from \"react\";\r\nimport propTypes from \"prop-types\";\r\n\r\nexport default function Input(props) {\r\n  const className = [\"form-control\"];\r\n  className.push(props.className);\r\n  return (\r\n    <input\r\n      type={props.type}\r\n      className={className.join(\" \")}\r\n      name={props.name}\r\n      id={props.name}\r\n      placeholder={props.placeholder}\r\n      value={props.value}\r\n      onChange={props.onChange}\r\n      required\r\n      disabled={props.disabled}\r\n      style={props.style}\r\n    />\r\n  );\r\n}\r\n\r\nInput.propTypes = {\r\n  type: propTypes.string,\r\n  className: propTypes.string,\r\n  name: propTypes.string,\r\n  placeholder: propTypes.string,\r\n  onChange: propTypes.func,\r\n  disabled: propTypes.func,\r\n  style: propTypes.object,\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Swal from \"sweetalert2\";\r\nimport { Button, Input } from \"../component/base/index\";\r\nimport { login } from \"../configs/redux/action/user\";\r\n\r\nfunction Login() {\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const { loading } = useSelector((state) => state.user);\r\n\r\n  const handleSubmit = (event) => {\r\n    const data = {\r\n      email,\r\n      password,\r\n    };\r\n\r\n    event.preventDefault();\r\n\r\n    dispatch(login(data))\r\n      .then((res) => {\r\n        setEmail(\"\");\r\n        setPassword(\"\");\r\n\r\n        Swal.fire({\r\n          title: \"Success!\",\r\n          text: res.data.message,\r\n          icon: \"success\",\r\n          confirmButtonText: \"Ok\",\r\n          confirmButtonColor: \"#7E98DF\",\r\n        }).then((result) => {\r\n          if (result.isConfirmed) {\r\n            history.push(\"/chat\");\r\n          } else {\r\n            history.push(\"/chat\");\r\n          }\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        Swal.fire({\r\n          title: \"Error!\",\r\n          text: err.response.data.message,\r\n          icon: \"error\",\r\n          confirmButtonText: \"Ok\",\r\n          confirmButtonColor: \"#7E98DF\",\r\n        });\r\n      });\r\n  };\r\n\r\n  if (loading) {\r\n    Swal.fire({\r\n      icon: \"info\",\r\n      title: \"Loading!\",\r\n      text: \"Please wait\",\r\n      showConfirmButton: false,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-all overflow-auto\">\r\n      <div className=\"h-100vh container-md container-fluid\">\r\n        <div className=\"h-100 d-flex justify-content-center row no-gutters\">\r\n          <div className=\"col-md-5 align-self-center\">\r\n            <div className=\"card border-0 px-5 py-3 br-30px shadow\">\r\n              <h4 className=\"text-center text-blue my-3\">Login</h4>\r\n              <p className=\"font-weight-bold my-3 text-black\">\r\n                Hi, Welcome Back!\r\n              </p>\r\n              <form onSubmit={handleSubmit}>\r\n                <div className=\"form-group\">\r\n                  <label className=\"m-0 text-gray\">Email</label>\r\n                  <Input\r\n                    type=\"email\"\r\n                    className=\"border-top-0 border-left-0 border-right-0 border-outline\"\r\n                    name=\"email\"\r\n                    value={email}\r\n                    onChange={(e) => setEmail(e.target.value)}\r\n                    required={true}\r\n                  ></Input>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label className=\"m-0 text-gray\">Password</label>\r\n                  <Input\r\n                    type=\"password\"\r\n                    className=\"border-top-0 border-left-0 border-right-0 border-outline\"\r\n                    name=\"password\"\r\n                    value={password}\r\n                    onChange={(e) => setPassword(e.target.value)}\r\n                    required\r\n                  ></Input>\r\n                </div>\r\n                <div className=\"text-right mb-3\">\r\n                  <a className=\"text-blue\">\r\n                    <Link to=\"/forgot-password\"> Forgot password?</Link>\r\n                  </a>\r\n                </div>\r\n                <Button\r\n                  className=\"btn-lg btn-blue btn-block rounded-btn\"\r\n                  onClick={handleSubmit}\r\n                >\r\n                  Login\r\n                </Button>\r\n                <div className=\"row py-4\">\r\n                  <div className=\"col\">\r\n                    <hr />\r\n                  </div>\r\n                  <div className=\"col d-flex justify-content-center\">\r\n                    <span className=\"align-self-center text-gray text-center\">\r\n                      {\" \"}\r\n                      Login With{\" \"}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"col\">\r\n                    <hr />\r\n                  </div>\r\n                </div>\r\n                <Button\r\n                  className=\" btn-lg btn-outline-blue btn-block rounded-btn text-blue\"\r\n                  onClick={handleSubmit}\r\n                >\r\n                  <i className=\"fab fa-google\"></i> Google\r\n                </Button>\r\n                <div className=\"text-center py-3\">\r\n                  Don't have an account?\r\n                  <a className=\"text-blue\">\r\n                    <Link to=\"/register\"> Sign Up</Link>{\" \"}\r\n                  </a>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\nimport * as Yup from \"yup\";\r\nimport { useFormik } from \"formik\";\r\nimport { Button, Input } from \"../component/base/index\";\r\n\r\nfunction Register() {\r\n  const history = useHistory();\r\n  const [isLoading, setLoading] = useState(false);\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      name: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n    },\r\n    validationSchema: Yup.object({\r\n      name: Yup.string().min(3, \"Minimum 3 characters.\").required(\"Required\"),\r\n      email: Yup.string().email(\"Invalid email format.\").required(\"Required\"),\r\n      password: Yup.string()\r\n        .min(8, \"Minimum 8 characters.\")\r\n        .required(\"Required\"),\r\n    }),\r\n    onSubmit: (values, action) => {\r\n      setLoading(true);\r\n      axios\r\n        .post(`${Url}/api/register`, values)\r\n        .then((res) => {\r\n          setLoading(false);\r\n          action.setValues({ name: \"\", email: \"\", password: \"\" });\r\n          Swal.fire({\r\n            title: \"Success!\",\r\n            text: res.data.message,\r\n            icon: \"success\",\r\n            confirmButtonText: \"Ok\",\r\n            confirmButtonColor: \"#7E98DF\",\r\n          });\r\n        })\r\n        .catch((err) => {\r\n          setLoading(false);\r\n          Swal.fire({\r\n            title: \"Error!\",\r\n            text: err.response.data.message,\r\n            icon: \"error\",\r\n            confirmButtonText: \"Ok\",\r\n            confirmButtonColor: \"#7E98DF\",\r\n          });\r\n        });\r\n    },\r\n  });\r\n\r\n  const Url = process.env.REACT_APP_API_URL;\r\n  const useQuery = () => new URLSearchParams(useLocation().search);\r\n\r\n  const query = useQuery();\r\n  let confirmEmail = query.get(\"email\");\r\n  let confirmToken = query.get(\"token\");\r\n\r\n  if (isLoading) {\r\n    Swal.fire({\r\n      icon: \"info\",\r\n      title: \"Loading!\",\r\n      text: \"Please wait\",\r\n      showConfirmButton: false,\r\n    });\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (confirmToken !== null && confirmEmail !== null) {\r\n      setLoading(true);\r\n      axios\r\n        .get(`${Url}/api/activate/${confirmToken}/${confirmEmail}`)\r\n        .then((res) => {\r\n          setLoading(false);\r\n          Swal.fire({\r\n            title: \"Success!\",\r\n            text: \"Success activating account.\",\r\n            icon: \"success\",\r\n            confirmButtonText: \"Ok\",\r\n            confirmButtonColor: \"#7E98DF\",\r\n          }).then((result) => {\r\n            if (result.isConfirmed) {\r\n              history.push(\"/\");\r\n            } else {\r\n              history.push(\"/\");\r\n            }\r\n          });\r\n        })\r\n        .catch((err) => {\r\n          setLoading(false);\r\n          Swal.fire({\r\n            title: \"Error!\",\r\n            text: \"Failed activating account.\",\r\n            icon: \"error\",\r\n            confirmButtonText: \"Ok\",\r\n            confirmButtonColor: \"#7E98DF\",\r\n          });\r\n        });\r\n    }\r\n  }, [Url, confirmEmail, confirmToken]);\r\n\r\n  return (\r\n    <div className=\"bg-all overflow-auto\">\r\n      <div className=\"h-100vh container-md container-fluid\">\r\n        <div className=\"h-100 d-flex justify-content-center row no-gutters\">\r\n          <div className=\"col-md-5 align-self-center\">\r\n            <div className=\"card border-0 px-5 py-3 br-30px shadow\">\r\n              <div className=\"d-flex w-100\">\r\n                <Link to=\"/\">\r\n                  <h4 className=\"text-blue my-3 position-absolute\">\r\n                    <i className=\"fas fa-chevron-left\"></i>\r\n                  </h4>\r\n                </Link>\r\n                <h4 className=\"text-center text-blue my-3 w-100\">Register</h4>\r\n              </div>\r\n\r\n              <p className=\"font-weight-bold my-3 text-black\">\r\n                Let’s create your account!\r\n              </p>\r\n              <form onSubmit={formik.handleSubmit}>\r\n                <div className=\"form-group\">\r\n                  <label className=\"m-0 text-gray\">Name</label>\r\n                  <Input\r\n                    type=\"text\"\r\n                    className=\"border-top-0 border-left-0 border-right-0 border-outline\"\r\n                    name=\"name\"\r\n                    value={formik.values.name}\r\n                    onChange={formik.handleChange}\r\n                    required\r\n                  ></Input>\r\n                  {formik.errors.name && formik.touched.name && (\r\n                    <small className=\"text-danger\">{formik.errors.name}</small>\r\n                  )}\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label className=\"m-0 text-gray\">Email</label>\r\n                  <Input\r\n                    type=\"email\"\r\n                    className=\"border-top-0 border-left-0 border-right-0 border-outline\"\r\n                    name=\"email\"\r\n                    value={formik.values.email}\r\n                    onChange={formik.handleChange}\r\n                  ></Input>\r\n                  {formik.errors.email && formik.touched.email && (\r\n                    <small className=\"text-danger\">{formik.errors.email}</small>\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label className=\"m-0 text-gray\">Password</label>\r\n                  <Input\r\n                    type=\"password\"\r\n                    className=\"border-top-0 border-left-0 border-right-0 border-outline\"\r\n                    name=\"password\"\r\n                    value={formik.values.password}\r\n                    onChange={formik.handleChange}\r\n                    required\r\n                  ></Input>\r\n                  {formik.errors.password && formik.touched.password && (\r\n                    <small className=\"text-danger\">\r\n                      {formik.errors.password}\r\n                    </small>\r\n                  )}\r\n                </div>\r\n\r\n                <Button\r\n                  className=\"btn-lg btn-blue btn-block rounded-btn mt-4\"\r\n                  onClick={formik.handleSubmit}\r\n                >\r\n                  Register\r\n                </Button>\r\n                <div className=\"row py-4\">\r\n                  <div className=\"col\">\r\n                    <hr />\r\n                  </div>\r\n                  <div className=\"col d-flex justify-content-center\">\r\n                    <span className=\"align-self-center text-gray text-center\">\r\n                      Register With\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"col\">\r\n                    <hr />\r\n                  </div>\r\n                </div>\r\n                <Button className=\"btn-lg btn-outline-blue btn-block rounded-btn text-blue\">\r\n                  <i className=\"fab fa-google\"></i> Google\r\n                </Button>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nimport { Button, Input } from \"../component/base\";\r\n\r\nfunction ForgotPassword() {\r\n  const history = useHistory();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [isLoading, setLoading] = useState(false);\r\n  const [showPassword, setShowPassword] = useState(false);\r\n\r\n  const Url = process.env.REACT_APP_API_URL;\r\n  const useQuery = () => new URLSearchParams(useLocation().search);\r\n\r\n  const query = useQuery();\r\n  let confirmEmail = query.get(\"email\");\r\n  let confirmToken = query.get(\"token\");\r\n\r\n  const handleReset = (event) => {\r\n    event.preventDefault();\r\n    if (password !== \"\") {\r\n      setLoading(true);\r\n      axios\r\n        .get(\r\n          `${Url}/api/resetPassword/${confirmToken}/${confirmEmail}/${password}`\r\n        )\r\n        .then((res) => {\r\n          setLoading(false);\r\n          setEmail(\"\");\r\n          setPassword(\"\");\r\n\r\n          Swal.fire({\r\n            title: \"Success!\",\r\n            text: res.data.message,\r\n            icon: \"success\",\r\n            confirmButtonText: \"Ok\",\r\n            confirmButtonColor: \"#7E98DF\",\r\n          }).then((result) => {\r\n            if (result.isConfirmed) {\r\n              history.push(\"/\");\r\n            } else {\r\n              history.push(\"/\");\r\n            }\r\n          });\r\n        })\r\n        .catch((err) => {\r\n          setLoading(false);\r\n          Swal.fire({\r\n            title: \"Error!\",\r\n            text: err.response.data.message,\r\n            icon: \"error\",\r\n            confirmButtonText: \"Ok\",\r\n            confirmButtonColor: \"#7E98DF\",\r\n          });\r\n        });\r\n    } else {\r\n      Swal.fire({\r\n        title: \"Info!\",\r\n        text: \"Please fill new password\",\r\n        icon: \"info\",\r\n        confirmButtonText: \"Ok\",\r\n        confirmButtonColor: \"#7E98DF\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleSend = (event) => {\r\n    const data = {\r\n      email,\r\n    };\r\n\r\n    event.preventDefault();\r\n    if (email !== \"\") {\r\n      setLoading(true);\r\n      axios\r\n        .post(`${Url}/api/forgotPassword`, data)\r\n        .then((res) => {\r\n          setLoading(false);\r\n          setEmail(\"\");\r\n          setPassword(\"\");\r\n\r\n          Swal.fire({\r\n            title: \"Success!\",\r\n            text: res.data.message,\r\n            icon: \"success\",\r\n            confirmButtonText: \"Ok\",\r\n            confirmButtonColor: \"#7E98DF\",\r\n          });\r\n        })\r\n        .catch((err) => {\r\n          setLoading(false);\r\n          Swal.fire({\r\n            title: \"Error!\",\r\n            text: err.response.data.message,\r\n            icon: \"error\",\r\n            confirmButtonText: \"Ok\",\r\n            confirmButtonColor: \"#7E98DF\",\r\n          });\r\n        });\r\n    } else {\r\n      Swal.fire({\r\n        title: \"Info!\",\r\n        text: \"Please fill email\",\r\n        icon: \"info\",\r\n        confirmButtonText: \"Ok\",\r\n        confirmButtonColor: \"#7E98DF\",\r\n      });\r\n    }\r\n  };\r\n\r\n  if (isLoading) {\r\n    Swal.fire({\r\n      icon: \"info\",\r\n      title: \"Loading!\",\r\n      text: \"Please wait\",\r\n      showConfirmButton: false,\r\n    });\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (confirmToken !== null && confirmEmail !== null) {\r\n      setShowPassword(true);\r\n    }\r\n  }, [confirmEmail, confirmToken]);\r\n\r\n  return (\r\n    <div className=\"bg-all overflow-auto\">\r\n      <div className=\"h-100vh container-md container-fluid\">\r\n        <div className=\"h-100 d-flex justify-content-center row no-gutters\">\r\n          <div className=\" col-md-5 align-self-center\">\r\n            <div className=\"card h-content border-0 px-5 py-3 br-30px shadow\">\r\n              <div className=\"d-flex w-100\">\r\n                <Link to=\"/\">\r\n                  <h4 className=\"text-blue my-3 position-absolute\">\r\n                    <i className=\"fas fa-chevron-left\"></i>\r\n                  </h4>\r\n                </Link>\r\n                <h4 className=\"text-center text-blue my-3 w-100\">\r\n                  Forgot Password\r\n                </h4>\r\n              </div>\r\n\r\n              <p className=\"font-weight-bold my-3 text-black\">\r\n                {`${\r\n                  showPassword === false\r\n                    ? \"You’ll get messages soon on your e-mail\"\r\n                    : \"You will have to set your new password\"\r\n                }`}\r\n              </p>\r\n              <form\r\n                onSubmit={showPassword === false ? handleSend : handleReset}\r\n              >\r\n                {showPassword === false ? (\r\n                  <div className=\"form-group\">\r\n                    <label className=\"m-0 text-gray\">Email</label>\r\n                    <Input\r\n                      type=\"email\"\r\n                      className=\"border-top-0 border-left-0 border-right-0 border-outline\"\r\n                      name=\"email\"\r\n                      value={email}\r\n                      onChange={(e) => setEmail(e.target.value)}\r\n                      required\r\n                    ></Input>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"form-group\">\r\n                    <label className=\"m-0 text-gray\">New Password</label>\r\n                    <Input\r\n                      type=\"password\"\r\n                      className=\"border-top-0 border-left-0 border-right-0 border-outline\"\r\n                      name=\"password\"\r\n                      value={password}\r\n                      onChange={(e) => setPassword(e.target.value)}\r\n                      required\r\n                    ></Input>\r\n                  </div>\r\n                )}\r\n\r\n                {showPassword === false ? (\r\n                  <Button\r\n                    className=\"btn-lg btn-blue btn-block rounded-btn mt-4\"\r\n                    onClick={handleSend}\r\n                  >\r\n                    Send\r\n                  </Button>\r\n                ) : (\r\n                  <Button\r\n                    className=\"btn-lg btn-blue btn-block rounded-btn mt-4\"\r\n                    onClick={handleReset}\r\n                  >\r\n                    Reset Now\r\n                  </Button>\r\n                )}\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ForgotPassword;\r\n","export default __webpack_public_path__ + \"static/media/default-user.69611041.svg\";","import React, { useState, useEffect, useRef } from \"react\";\r\nimport Swal from \"sweetalert2\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { updateProfile, getProfile } from \"../../configs/redux/action/user\";\r\nimport defaultUser from \"../../assets/images/default-user.svg\";\r\n\r\nfunction DetailProfile(props) {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const Url = process.env.REACT_APP_API_URL;\r\n  const { user, showRoomChatMobile } = useSelector((state) => state.user);\r\n  const [displaySetting, setdisplaySetting] = useState(false);\r\n  const [imgUrl, setImgUrl] = useState(`${Url}/images/default.png`);\r\n  const [dataImage, setDataImage] = useState({ image: null });\r\n\r\n  const [editUser, setEditUser] = useState(user);\r\n\r\n  const handleEditProfile = (e) => {\r\n    setEditUser({ ...editUser, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleChangeImage = (event) => {\r\n    if (event.target.files[0]) {\r\n      const imgFiles = event.target.files[0];\r\n      setImgUrl(URL.createObjectURL(event.target.files[0]));\r\n      setDataImage({\r\n        image: imgFiles,\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    const formData = new FormData();\r\n    formData.append(\"name\", editUser.name);\r\n    formData.append(\"phone\", editUser.phone);\r\n    formData.append(\"username\", editUser.username);\r\n    formData.append(\"bio\", editUser.bio);\r\n    if (dataImage.image !== null) {\r\n      formData.append(\"image\", dataImage.image);\r\n    }\r\n\r\n    dispatch(updateProfile(formData))\r\n      .then((res) => {\r\n        dispatch(getProfile());\r\n\r\n        Swal.fire({\r\n          icon: \"success\",\r\n          title: res.data.message,\r\n          showConfirmButton: false,\r\n          timer: 1500,\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        Swal.fire({\r\n          icon: \"error\",\r\n          title: err.response.data.message,\r\n          showConfirmButton: true,\r\n        });\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (user.id) {\r\n      setEditUser(user);\r\n      setImgUrl(`${Url}/images/${user.image}`);\r\n    }\r\n  }, [user.id]);\r\n\r\n  return (\r\n    <div\r\n      className={`h-100vh col-xl-3 col-md col-lg-4 border-right overflow-auto hideScroll`}\r\n    >\r\n      {/* setting profile */}\r\n      <div className={`${displaySetting ? \"d-none\" : \"d-block\"}`}>\r\n        <div className=\"container py-3\">\r\n          <div className=\"text-center text-blue pt-4\">\r\n            <h5 className=\"d-inline-block text-center text-main\">\r\n              {user.username}\r\n            </h5>\r\n            <div\r\n              className=\"d-inline-block text-main float-left text-right h-100 pointer\"\r\n              onClick={(e) => history.push(\"/chat\")}\r\n            >\r\n              <h5>\r\n                <i className=\"fas fa-angle-left\"></i>\r\n              </h5>\r\n            </div>\r\n            <div\r\n              className=\"d-inline-block text-main float-right h-100\"\r\n              onClick={(e) => setdisplaySetting(true)}\r\n            >\r\n              <i className=\"bi bi-pencil-fill\"></i>\r\n            </div>\r\n          </div>\r\n          {/* </div> */}\r\n          <div className=\"d-flex justify-content-center\">\r\n            <div className=\"container pt-4\">\r\n              <div className=\"row\">\r\n                <div className=\"col-12 d-flex justify-content-center\">\r\n                  <span className=\"align-self-center\">\r\n                    <input\r\n                      type=\"file\"\r\n                      id=\"setPhoto\"\r\n                      style={{ display: \"none\" }}\r\n                    />\r\n                    <div>\r\n                      {user.image ? (\r\n                        <img\r\n                          style={{ height: \"100px\", width: \"100px\" }}\r\n                          className=\"cover\"\r\n                          src={`${Url}/images/${user.image}`}\r\n                        />\r\n                      ) : (\r\n                        <img\r\n                          style={{ height: \"100px\", width: \"100px\" }}\r\n                          className=\"cover\"\r\n                          src={defaultUser}\r\n                        />\r\n                      )}\r\n                    </div>\r\n                  </span>\r\n                </div>\r\n                <div className=\"col d-flex justify-content-center\">\r\n                  <div className=\"pt-3 align-self-center\">\r\n                    {user.name && <h4 className=\"text-center\">{user.name}</h4>}\r\n                    {user.username && (\r\n                      <p className=\"text-muted text-md-center\">\r\n                        {user.username}\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <hr />\r\n              <div className=\"pt-1\">\r\n                <h5 className=\"font-weight-bold\">Account</h5>\r\n                {user.phone && <p className=\"m-0  mb-1 p-0 \">{user.phone}</p>}\r\n              </div>\r\n              <hr />\r\n              <div className=\"pt-3\">\r\n                {user.username && (\r\n                  <h5 className=\"font-weight-bold\">{user.username}</h5>\r\n                )}\r\n                username\r\n              </div>\r\n              <hr />\r\n              <div className=\"py-3\">\r\n                {user.bio && <h6 className=\"font-weight-bold\">{user.bio}</h6>}\r\n                Bio\r\n              </div>\r\n\r\n              <div className=\"pt-3\">\r\n                <h5 className=\"font-weight-bold\">Settings</h5>\r\n                <div className=\"d-flex justify-content-between py-2\">\r\n                  <div className=\"d-flex\">\r\n                    <h6 className=\"far fa-bell text-blue mr-4\"></h6>\r\n                    <h6 className=\"text-blue\">Notifications and Sounds</h6>\r\n                  </div>\r\n                  <h6 className=\"fas fa-chevron-right text-blue\"></h6>\r\n                </div>\r\n                <div className=\"d-flex justify-content-between\">\r\n                  <div className=\"d-flex\">\r\n                    <h6 className=\"fas fa-lock text-blue mr-4\"></h6>\r\n                    <h6 className=\"text-blue\">Privacy and Security</h6>\r\n                  </div>\r\n                  <h6 className=\"fas fa-chevron-right text-blue\"></h6>\r\n                </div>\r\n                <div className=\"d-flex justify-content-between py-2\">\r\n                  <div className=\"d-flex\">\r\n                    <h6 className=\"fas fa-chart-line text-blue mr-4\"></h6>\r\n                    <h6 className=\"text-blue\">Data and Storage</h6>\r\n                  </div>\r\n                  <h6 className=\"fas fa-chevron-right text-blue\"></h6>\r\n                </div>\r\n                <div className=\"d-flex justify-content-between\">\r\n                  <div className=\"d-flex\">\r\n                    <h6 className=\"far fa-comment-dots text-blue mr-4\"></h6>\r\n                    <h6 className=\"text-blue\">Chat settings</h6>\r\n                  </div>\r\n                  <h6 className=\"fas fa-chevron-right text-blue\"></h6>\r\n                </div>\r\n                <div className=\"d-flex justify-content-between py-2\">\r\n                  <div className=\"d-flex\">\r\n                    <h6 className=\"fas fa-laptop text-blue mr-4\"></h6>\r\n                    <h6 className=\"text-blue\">Devices</h6>\r\n                  </div>\r\n                  <h6 className=\"fas fa-chevron-right text-blue\"></h6>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {/* dibawah akhir setting profile */}\r\n\r\n      <div\r\n        className={`mt-4 h-100 px-md-5  ${displaySetting ? \"\" : \"d-none\"}`}\r\n        style={{ height: \"100vh\" }}\r\n      >\r\n        <div className=\"card-body py-0 \">\r\n          <div\r\n            className=\"text-center pt-2 text-blue mb-3\"\r\n            style={{ height: \"5vh\" }}\r\n          >\r\n            <h5 className=\"d-inline-block text-center text-main\">\r\n              Edit Profile\r\n            </h5>\r\n            <p\r\n              className=\"d-inline-block text-main float-left h-100\"\r\n              onClick={(e) => setdisplaySetting(false)}\r\n            >\r\n              <h5>\r\n                <i className=\"fas fa-angle-left\"></i>\r\n              </h5>\r\n            </p>\r\n          </div>\r\n          {/* <!-- Base Info --> */}\r\n          <div className=\"text-center mb-4\" style={{ height: \"20vh\" }}>\r\n            {editUser.image && (\r\n              <img\r\n                src={imgUrl}\r\n                style={{ width: \"100px\", height: \"100px\" }}\r\n                className=\"cover my-4\"\r\n                alt=\"/\"\r\n              />\r\n            )}\r\n          </div>\r\n          {/* <!-- Detail Info --> */}\r\n          <div\r\n            style={{ height: \"75vh\", overflowY: \"scroll\" }}\r\n            className=\"hideScroll\"\r\n          >\r\n            <form onSubmit={handleSubmit}>\r\n              <p className=\"font-weight-bold mb-1\">Account</p>\r\n              <input\r\n                type=\"file\"\r\n                className=\"form-control w-100 p-1\"\r\n                onChange={handleChangeImage}\r\n              />\r\n              <small>Profile Picture</small>\r\n              <hr />\r\n              <input\r\n                type=\"text\"\r\n                name=\"username\"\r\n                value={editUser.username}\r\n                onChange={(e) => handleEditProfile(e)}\r\n                className=\" form-control w-100\"\r\n              />\r\n              <small>Username</small>\r\n              <hr />\r\n              <input\r\n                type=\"text\"\r\n                className=\" form-control w-100\"\r\n                name=\"name\"\r\n                value={editUser.name}\r\n                onChange={(e) => handleEditProfile(e)}\r\n              />\r\n              <small>Full Name</small>\r\n              <hr />\r\n              <input\r\n                type=\"email\"\r\n                className=\" form-control w-100\"\r\n                name=\"email\"\r\n                value={editUser.email}\r\n                disabled\r\n              />\r\n              <small>Email</small>\r\n              <hr />\r\n              <input\r\n                type=\"text\"\r\n                className=\"p form-control w-100\"\r\n                name=\"phone\"\r\n                value={editUser.phone}\r\n                onChange={(e) => handleEditProfile(e)}\r\n              />\r\n              <small>Handphone</small>\r\n              <hr />\r\n              <textarea\r\n                type=\"text\"\r\n                className=\" form-control text-justify w-100\"\r\n                name=\"bio\"\r\n                value={editUser.bio}\r\n                onChange={(e) => handleEditProfile(e)}\r\n              />\r\n              <small>Bio</small>\r\n              <hr />\r\n\r\n              <button\r\n                className=\"btn btn-blue w-100 mb-4 br-30px\"\r\n                type=\"submit\"\r\n                onClick={handleSubmit}\r\n              >\r\n                Update\r\n              </button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DetailProfile;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport defaultUser from \"../../assets/images/default-user.svg\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getListChat } from \"../../configs/redux/action/socket\";\r\n\r\nfunction ListChat({ onClick, dataTarget, lastChat }) {\r\n  const dispatch = useDispatch();\r\n  const { socket, target, listChat } = useSelector((state) => state.socket);\r\n  const { user } = useSelector((state) => state.user);\r\n  // const [lastChat, setLastChat] = useState([]);\r\n\r\n  const Url = process.env.REACT_APP_API_URL;\r\n\r\n  useEffect(() => {\r\n    const data = {\r\n      senderId: user.id,\r\n      targetId: target.id,\r\n      roomId: user.roomId,\r\n    };\r\n    dispatch(getListChat(socket, data));\r\n  }, [dispatch, target.id]);\r\n\r\n  // useEffect(() => {\r\n  //   if (user.id & dataTarget.id) {\r\n  //     const data = {\r\n  //       senderId: user.id,\r\n  //       targetId: dataTarget.id,\r\n  //       roomId: user.roomId,\r\n  //     };\r\n\r\n  //     socket.emit(\"get-last-chat\", data);\r\n  //     socket.on(\"res-get-last-chat\", (response) => {\r\n  //       setLastChat(response);\r\n  //       console.log(\"response last chat\", response);\r\n  //     });\r\n  //   }\r\n  // }, [dataTarget.id]);\r\n\r\n  return (\r\n    <div className=\"container py-2 pointer list-chat\" onClick={onClick}>\r\n      <div className=\"text-decoration-none text-dark\">\r\n        <div className=\"row\">\r\n          <div className=\"col-3 d-flex justify-content-center\">\r\n            {dataTarget.image ? (\r\n              <div className=\"align-self-center\">\r\n                <img\r\n                  className=\"cover\"\r\n                  src={`${Url}/images/${dataTarget.image}`}\r\n                />\r\n              </div>\r\n            ) : (\r\n              <div className=\"align-self-center\">\r\n                <img className=\"cover\" src={defaultUser} />\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div className=\"col\">\r\n            <div className=\"align-self-center\">\r\n              <div className=\"d-flex justify-content-between\">\r\n                {dataTarget.name && (\r\n                  <h5\r\n                    className=\"m-0 font-weight-bold text-truncate\"\r\n                    style={{ maxWidth: \"160px\" }}\r\n                  >\r\n                    {dataTarget.name}\r\n                  </h5>\r\n                )}\r\n                {/* <p className=\"pl-3 m-0 text-muted\">\r\n                  <small>16:13</small>\r\n                </p> */}\r\n              </div>\r\n              {/* {lastChat && (\r\n                <div className=\"d-flex justify-content-between\">\r\n                  {lastChat.message}\r\n                  <div className=\"align-self-center\">\r\n                    <span className=\"badge badge-pill btn-blue d-flex\">1</span>\r\n                  </div>\r\n                </div>\r\n              )} */}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ListChat;\r\n","export const getAllUser = (socket, data) => (dispatch) => {\r\n  socket.emit(\"search-name\", data);\r\n  socket.on(\"res-search-name\", (response) => {\r\n    // console.log(\"ini daftar user\", response);\r\n    dispatch({ type: \"GET_USER_LIST\", payload: response });\r\n  });\r\n};\r\n\r\nexport const sendChat = (socket, data) => (dispatch) => {\r\n  socket.emit(\"send-message\", data);\r\n  socket.on(\"res-get-list-chat\", (response) => {\r\n    dispatch({ type: \"GET_LIST_CHAT\", payload: response });\r\n  });\r\n  socket.on(\"res-target-data\", (response) => {\r\n    console.log(\"ini response data targetnya\", response);\r\n  });\r\n};\r\n\r\nexport const getListChat = (socket, data) => (dispatch) => {\r\n  socket.emit(\"get-list-chat\", {\r\n    senderId: data.senderId,\r\n    targetId: data.targetId,\r\n    roomId: data.roomId,\r\n  });\r\n  socket.on(\"res-get-list-chat\", (response) => {\r\n    dispatch({ type: \"GET_LIST_CHAT\", payload: response });\r\n  });\r\n};\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { sendChat, getListChat } from \"../../configs/redux/action/socket\";\r\nimport Swal from \"sweetalert2\";\r\nimport defaultUser from \"../../assets/images/default-user.svg\";\r\n\r\nfunction RoomChat({ showRoomChat, queryRole }) {\r\n  const dispatch = useDispatch();\r\n  const bottomRef = useRef();\r\n\r\n  const { socket, target, listChat } = useSelector((state) => state.socket);\r\n  const { user, showRoomChatMobile, showFriendsProfile } = useSelector(\r\n    (state) => state.user\r\n  );\r\n  const [message, setMessage] = useState(\"\");\r\n  const Url = process.env.REACT_APP_API_URL;\r\n\r\n  const handleSendChat = (e) => {\r\n    e.preventDefault();\r\n\r\n    const data = {\r\n      senderId: user.id,\r\n      targetId: target.id,\r\n      msg: message,\r\n    };\r\n    dispatch(sendChat(socket, data));\r\n    setMessage(\"\");\r\n  };\r\n\r\n  const handleDeleteChat = (e, item) => {\r\n    e.preventDefault();\r\n    const data = {\r\n      senderId: user.id,\r\n      targetId: target.id,\r\n      msg: item.message,\r\n      id: item.id,\r\n    };\r\n    Swal.fire({\r\n      title: \"Delete Chat\",\r\n      text: \"Area you sure?\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#7E98DF\",\r\n      confirmButtonText: \"Confirm\",\r\n      cancelButtonText: \"Cancel\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        socket.emit(\"delete-chat\", data);\r\n        socket.on(\"res-delete-chat\", (response) => {\r\n          Swal.fire({\r\n            icon: \"success\",\r\n            title: response,\r\n            showConfirmButton: false,\r\n            timer: 1500,\r\n          });\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (bottomRef.current) {\r\n      bottomRef.current.scrollIntoView({\r\n        behavior: \"smooth\",\r\n        block: \"end\",\r\n        inline: \"end\",\r\n      });\r\n    }\r\n  }, [target.id, listChat]);\r\n\r\n  return (\r\n    <div\r\n      className={`col overflow-auto h-100 ${\r\n        showRoomChatMobile ? \"\" : \"d-none  d-lg-block\"\r\n      } ${showFriendsProfile ? \"d-none d-lg-block\" : \"\"}`}\r\n    >\r\n      {showRoomChat && target.id !== 0 ? (\r\n        <div>\r\n          {/* <roomChat\r\n          /> */}\r\n          <div className=\"h-100vh\">\r\n            <div className=\"navBar shadow\">\r\n              <div className=\"d-flex h-100\">\r\n                <div className=\"align-self-center w-100\">\r\n                  <div className=\"container\">\r\n                    <div className=\"row\">\r\n                      <div className=\"d-lg-none col-1 d-flex\">\r\n                        <div\r\n                          className=\"align-self-center pointer\"\r\n                          onClick={(e) =>\r\n                            dispatch({ type: \"CLOSE_ROOMCHAT_MOBILE\" })\r\n                          }\r\n                        >\r\n                          <h4 className=\"text-blue m-0 fas fa-chevron-left\"></h4>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col d-flex\">\r\n                        <div className=\"mr-3\">\r\n                          {target.image ? (\r\n                            <img\r\n                              src={`${Url}/images/${target.image}`}\r\n                              className=\"cover\"\r\n                              alt=\"/\"\r\n                            />\r\n                          ) : (\r\n                            <img src={defaultUser} className=\"cover\" />\r\n                          )}\r\n                        </div>\r\n                        <div\r\n                          className=\"pointer\"\r\n                          onClick={(e) =>\r\n                            dispatch({ type: \"SHOW_FRIENDS_PROFILE\" })\r\n                          }\r\n                        >\r\n                          <div className=\"text-dark text-decoration-none\">\r\n                            <span>\r\n                              {target.name && (\r\n                                <h4\r\n                                  className=\"m-0 d-md-none text-truncate\"\r\n                                  style={{ maxWidth: \"150px\" }}\r\n                                >\r\n                                  {target.name}\r\n                                </h4>\r\n                              )}\r\n                              {target.name && (\r\n                                <h4 className=\"m-0 d-none d-md-block \">\r\n                                  {target.name}\r\n                                </h4>\r\n                              )}\r\n\r\n                              <p className=\"m-0\">\r\n                                <small className=\"text-blue\">\r\n                                  {target.socketId === null\r\n                                    ? \"Offline\"\r\n                                    : \"Online\"}\r\n                                </small>\r\n                              </p>\r\n                            </span>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      {/* dropdown */}\r\n                      <div className=\"col-1 d-flex justify-content-end\">\r\n                        <div className=\"dropdown\">\r\n                          <button\r\n                            className=\"btn noBorder-noSahdow\"\r\n                            type=\"button\"\r\n                            id=\"dropdownMenuButton\"\r\n                            data-toggle=\"dropdown\"\r\n                            aria-haspopup=\"true\"\r\n                            aria-expanded=\"false\"\r\n                          >\r\n                            <h4 className=\"m-0 text-blue text-right\">\r\n                              <i className=\"fas fa-ellipsis-v\"></i>\r\n                            </h4>\r\n                          </button>\r\n                          <div\r\n                            className=\"dropdown-menu dropdown-menu-right rounded-dropdown bg-blue \"\r\n                            aria-labelledby=\"dropdownMenuButton\"\r\n                          >\r\n                            <div className=\"py-2 dropdown-item text-white\">\r\n                              <i className=\"fas fa-phone\"></i> &nbsp; Call\r\n                            </div>\r\n                            <div className=\"py-2 dropdown-item text-white\">\r\n                              <i className=\"fas fa-trash\"></i>\r\n                              &nbsp; Delete History\r\n                            </div>\r\n                            <div className=\"py-2 dropdown-item text-white\">\r\n                              <i className=\"fas fa-search\"></i>\r\n                              &nbsp; Mute Notifications\r\n                            </div>\r\n                            <div className=\"py-2 dropdown-item text-white\">\r\n                              <i className=\"fas fa-save\"></i>\r\n                              &nbsp; Search\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"bg-light d-flex align-items-end\">\r\n              <div className=\"h-content overflow-auto container px-4 py-3 hideScroll\">\r\n                {listChat.map((item, index) => {\r\n                  if (item.senderName !== user.name) {\r\n                    return (\r\n                      <span className=\"w-100 h-100\" key={index}>\r\n                        <div className=\"w-100 d-flex justify-content-start\">\r\n                          <div className=\"d-flex align-items-center mr-2\">\r\n                            <img\r\n                              className=\"cover-img-chat\"\r\n                              src={`${Url}/images/${target.image}`}\r\n                              alt=\"profile\"\r\n                            />\r\n                          </div>\r\n\r\n                          <div\r\n                            className=\"my-2 text-white bg-blue max-bubble receiveEnd pointer\"\r\n                            onClick={(e) => handleDeleteChat(e, item)}\r\n                          >\r\n                            <div className=\"container py-3 text-right\">\r\n                              {item.message}\r\n                              <p className=\"m-0\">\r\n                                <small>\r\n                                  {new Date(item.created_at).toLocaleTimeString(\r\n                                    \"en-GB\",\r\n                                    {\r\n                                      hour: \"2-digit\",\r\n                                      minute: \"2-digit\",\r\n                                    }\r\n                                  )}\r\n                                </small>\r\n                              </p>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </span>\r\n                    );\r\n                  } else {\r\n                    return (\r\n                      <span className=\"w-100 h-100\" key={index}>\r\n                        <div className=\"w-100 d-flex justify-content-end\">\r\n                          <div\r\n                            className=\"my-2 bg-white max-bubble sendEnd pointer\"\r\n                            onClick={(e) => handleDeleteChat(e, item)}\r\n                          >\r\n                            <div className=\"container py-3 text-right\">\r\n                              {item.message}\r\n                              <p className=\"m-0\">\r\n                                <small className=\"text-muted\">\r\n                                  {new Date(item.created_at).toLocaleTimeString(\r\n                                    \"en-GB\",\r\n                                    {\r\n                                      hour: \"2-digit\",\r\n                                      minute: \"2-digit\",\r\n                                    }\r\n                                  )}\r\n                                  <i className=\"fas fa-check-double\"></i>\r\n                                </small>\r\n                              </p>\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"d-flex align-items-center ml-2\">\r\n                            <img\r\n                              className=\"cover-img-chat\"\r\n                              src={`${Url}/images/${user.image}`}\r\n                              alt=\"profile\"\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                      </span>\r\n                    );\r\n                  }\r\n                })}\r\n                <div ref={bottomRef}></div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"inputBar shadow\">\r\n              <form className=\"h-100\" onSubmit={handleSendChat}>\r\n                <div className=\"container d-flex h-100\">\r\n                  <div className=\"align-self-center w-100 px-4\">\r\n                    <div className=\"input-group\">\r\n                      <input\r\n                        type=\"text\"\r\n                        placeholder=\"Type your message...\"\r\n                        className=\"form-control border-0 bg-light br-left-30px\"\r\n                        value={message}\r\n                        onChange={(e) => setMessage(e.target.value)}\r\n                      />\r\n                      <div className=\"input-group-append\">\r\n                        <div className=\"dropup\">\r\n                          <button\r\n                            className=\"btn btn-light noBorder-noSahdow\"\r\n                            type=\"button\"\r\n                            id=\"dropdownMenuButton\"\r\n                            data-toggle=\"dropdown\"\r\n                            aria-haspopup=\"true\"\r\n                            aria-expanded=\"false\"\r\n                          >\r\n                            <h5 className=\"m-0 text-blue text-right\">\r\n                              <i className=\"fas fa-plus text-blue\"></i>\r\n                            </h5>\r\n                          </button>\r\n                          <div\r\n                            className=\"dropdown-menu dropdown-menu-right rounded-dropdown bg-blue \"\r\n                            aria-labelledby=\"dropdownMenuButton\"\r\n                          >\r\n                            <div className=\"py-2 dropdown-item text-white\">\r\n                              <i className=\"far fa-image\"></i> &nbsp; Images\r\n                            </div>\r\n                            <div className=\"py-2 dropdown-item text-white\">\r\n                              <i className=\"far fa-file\"></i>\r\n                              &nbsp; Documents\r\n                            </div>\r\n                            <div className=\"py-2 dropdown-item text-white\">\r\n                              <i className=\"far fa-user\"></i>\r\n                              &nbsp; Contacts\r\n                            </div>\r\n                            <div className=\"py-2 dropdown-item text-white\">\r\n                              <i className=\"fas fa-map-marker-alt\"></i>\r\n                              &nbsp; Location\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n\r\n                        <button\r\n                          className=\"btn btn-light text-blue\"\r\n                          type=\"button\"\r\n                        >\r\n                          <i className=\"fas fa-surprise\"></i>\r\n                        </button>\r\n                        <button\r\n                          className=\"btn btn-light text-blue br-right-30px\"\r\n                          type=\"button\"\r\n                        >\r\n                          <i className=\"fas fa-dice-one\"></i>\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  {/* <transition name=\"append\">\r\n                      <div className=\"align-self-center\">\r\n                        <button type=\"submit\" className=\"btn btn-light\">\r\n                          <h3 className=\"m-0 text-blue\">\r\n                            <i className=\"fab fa-telegram-plane\"></i>\r\n                          </h3>\r\n                        </button>\r\n                      </div>\r\n                    </transition> */}\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n          {/* dini akhir taruh room chatnya */}\r\n        </div>\r\n      ) : (\r\n        <div className=\"h-100 d-flex justify-content-center d-md-none d-lg-flex\">\r\n          <div className=\"align-self-center\">\r\n            <h4 className=\"text-muted text-center\">\r\n              Please select a chat to start messaging\r\n            </h4>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RoomChat;\r\n","import React, { useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\nfunction ProfileFriends() {\r\n  const dispatch = useDispatch();\r\n  const { target } = useSelector((state) => state.socket);\r\n  const { showFriendsProfile } = useSelector((state) => state.user);\r\n  const [clickedType, setClickedType] = useState(\"image\");\r\n  const [chatDataType, setDataType] = useState([\r\n    { text: \"Location\", value: \"location\" },\r\n    { text: \"Image\", value: \"image\" },\r\n    { text: \"Documents\", value: \"document\" },\r\n  ]);\r\n  const [dummyFile, setDummyFile] = useState([\r\n    { type: \"success\", text: \"ExcelTugas.xlsx\", icon: \"far fa-file-excel\" },\r\n    { type: \"danger\", text: \"Kontrak.pdf\", icon: \"far fa-file-pdf\" },\r\n    { type: \"info\", text: \"Skripsi.docx\", icon: \"far fa-file-word\" },\r\n    { type: \"warning\", text: \"PPTTugas.pptx\", icon: \"far fa-file-powerpoint\" },\r\n    { type: \"danger\", text: \"Kontrak.pdf\", icon: \"far fa-file-pdf\" },\r\n    { type: \"warning\", text: \"PPTTugas.pptx\", icon: \"far fa-file-powerpoint\" },\r\n  ]);\r\n  const dummyImage = 15;\r\n  const Url = process.env.REACT_APP_API_URL;\r\n\r\n  return (\r\n    <div\r\n      className={`px-0 px-md-5 col col-md-12 col-lg-4 h-100 border  ${\r\n        showFriendsProfile ? \"d-lg-block\" : \"d-none\"\r\n      }`}\r\n      style={{ height: \"100vh\" }}\r\n    >\r\n      {/* v-if=\"friendsData.username !== undefined\" */}\r\n      {target.username !== undefined ? (\r\n        <div className=\"card-body py-0\">\r\n          <div className=\"text-center pt-4 text-blue\" style={{ height: \"5vh\" }}>\r\n            <h4 className=\"d-inline-block text-center text-main\">\r\n              {target.username}\r\n            </h4>\r\n            <h4\r\n              className=\"d-inline-block text-main float-left text-right h-100 pointer\"\r\n              onClick={(e) => dispatch({ type: \"CLOSE_FRIENDS_PROFILE\" })}\r\n            >\r\n              <i className=\"fas fa-angle-left\"></i>\r\n            </h4>\r\n          </div>\r\n\r\n          <div className=\"text-center mt-5\">\r\n            <img\r\n              src={`${Url}/images/${target.image}`}\r\n              className=\"img cover-img-chat\"\r\n              alt=\"profile\"\r\n            />\r\n            <br />\r\n            <div id=\"friendship\" className=\"text-left\">\r\n              <h5 className=\"text-left font-weight-bold mt-3 d-inline-block\">\r\n                {target.name}{\" \"}\r\n              </h5>\r\n            </div>\r\n            {target.socketId !== null ? (\r\n              <p className=\"text-left text-blue\">Online</p>\r\n            ) : (\r\n              <p className=\"text-left text-blue\">Offline</p>\r\n            )}\r\n\r\n            <p className=\"text-left font-weight-bold mb-0\">Phone number</p>\r\n            <p className=\"text-left text-blue\">{target.phone}</p>\r\n          </div>\r\n          <div style={{ height: \"8vh\" }}>\r\n            <div className=\"btn-group btn-group-toggle w-100\">\r\n              {chatDataType.map((item, index) => {\r\n                return (\r\n                  <label\r\n                    key={index}\r\n                    className=\"btn btn-sm btn-blue font-weight-bolder mx-1\"\r\n                    style={{ borderRadius: \"25px\" }}\r\n                  >\r\n                    <input\r\n                      onClick={(e) => setClickedType(item.value)}\r\n                      type=\"radio\"\r\n                    />{\" \"}\r\n                    {item.text}\r\n                  </label>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n\r\n          <div\r\n            style={{ height: \"40vh\", overflowY: \"scroll\" }}\r\n            className=\"hideScroll \"\r\n          >\r\n            {clickedType === \"location\" ? (\r\n              <div className=\"row\">\r\n                {\" \"}\r\n                <div className=\"text-center mt-5 pt-5 h-100 w-100 d-flex-column justify-content-center\">\r\n                  <img src=\"https://img.icons8.com/cute-clipart/64/000000/sad.png\" />\r\n                  <h5 className=\"text-secondary\">This feature is upcoming</h5>\r\n                </div>\r\n              </div>\r\n            ) : clickedType === \"image\" ? (\r\n              <div>\r\n                <div className=\"row text-center w-100\">\r\n                  {Array(dummyImage)\r\n                    .fill()\r\n                    .map((item, index) => {\r\n                      return (\r\n                        <div key={index} className=\"col-md-4 col-lg-4 col-4\">\r\n                          <img\r\n                            src={`${Url}/images/sampleImg_${index}.png`}\r\n                            className=\"img-fluid  mx-1 my-1\"\r\n                            alt=\"/\"\r\n                          />\r\n                        </div>\r\n                      );\r\n                    })}\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div>\r\n                {dummyFile.map((item, index) => {\r\n                  return (\r\n                    <div key={index}>\r\n                      <div className={`alert alert-${item.type}`} role=\"alert\">\r\n                        <i className={`${item.icon}`}></i> {item.text}\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div className=\"card-body py-auto\">\r\n          <div className=\"text-center pt-4\" style={{ height: \"5vh\" }}>\r\n            <h5 className=\"d-inline-block text-center text-main\">\r\n              Back to List User\r\n            </h5>\r\n            <div className=\"d-inline-block text-main float-left text-right h-100\">\r\n              <i className=\"fas fa-angle-left\"></i>\r\n            </div>\r\n            <br />\r\n            <div className=\"text-center mt-5 pt-5 h-100 d-flex-column justify-content-center\">\r\n              <img src=\"https://img.icons8.com/cute-clipart/64/000000/sad.png\" />\r\n              <h3 className=\"text-secondary\">Please re-select Your Friends</h3>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* v-else */}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProfileFriends;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport Swal from \"sweetalert2\";\r\nimport {\r\n  ListChat,\r\n  DetailProfile,\r\n  RoomChat,\r\n  ProfileFriends,\r\n} from \"../component/module\";\r\nimport { logout } from \"../configs/redux/action/user\";\r\nimport { getAllUser } from \"../configs/redux/action/socket\";\r\n\r\nfunction Chat() {\r\n  const useQuery = () => new URLSearchParams(useLocation().search);\r\n  const query = useQuery();\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const { socket, userList, target } = useSelector((state) => state.socket);\r\n  const { user, showRoomChatMobile } = useSelector((state) => state.user);\r\n  const [searchUser, setSearchUser] = useState(\"\");\r\n  // const [dataLastChat, setLastChat] = useState([]);\r\n\r\n  const [showRoomChat, setShowRoomChat] = useState(false);\r\n  let queryRole = query.get(\"role\");\r\n  // let { chatId } = useParams();\r\n  let chatId = query.get(\"chatId\");\r\n  // console.log(chatId);\r\n\r\n  const goSetting = (e) => {\r\n    history.push(\"/chat?role=setting\");\r\n  };\r\n\r\n  const handleLogout = (e) => {\r\n    Swal.fire({\r\n      title: \"Logout\",\r\n      text: \"Area you sure?\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#7E98DF\",\r\n      confirmButtonText: \"Confirm\",\r\n      cancelButtonText: \"Cancel\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        dispatch(logout(socket, history));\r\n        dispatch({ type: \"LOGOUT\" });\r\n        dispatch({ type: \"EMPTYCHAT\" });\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleClickListChat = (index) => {\r\n    setShowRoomChat(true);\r\n    dispatch({ type: \"CHOOSE_TARGET\", payload: userList[index] });\r\n    dispatch({ type: \"SHOW_ROOMCHAT_MOBILE\" });\r\n  };\r\n  // const getLastChat = (data) => {\r\n  //   socket.emit(\"get-last-chat\", {\r\n  //     senderId: user.id,\r\n  //     targetId: data.id,\r\n  //     roomId: user.roomId,\r\n  //   });\r\n  //   socket.on(\"res-get-last-chat\", (response) => {\r\n  //     setLastChat(dataLastChat.concat(response));\r\n  //   });\r\n  // };\r\n\r\n  useEffect(() => {\r\n    if (socket && user.id) {\r\n      socket.emit(\"connected\", user);\r\n      socket.emit(\"join-room\", user.roomId);\r\n      // const data = {\r\n      //   id: user.id,\r\n      //   searchName: \"\",\r\n      //   roomId: user.roomId,\r\n      // };\r\n      // dispatch(getAllUser(socket, data));\r\n    }\r\n  }, [socket, user, dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (socket && user.id && userList) {\r\n      const data = {\r\n        id: user.id,\r\n        searchName: searchUser,\r\n        roomId: user.roomId,\r\n      };\r\n      dispatch(getAllUser(socket, data));\r\n    }\r\n  }, [socket, user, target.id, dispatch, searchUser]);\r\n\r\n  useEffect(() => {\r\n    if (socket) {\r\n      socket.on(\"res-new-chat\", (response) => {\r\n        Swal.mixin({\r\n          toast: true,\r\n          position: \"top\",\r\n          showConfirmButton: false,\r\n          timer: 5000,\r\n          timerProgressBar: true,\r\n        }).fire({\r\n          icon: \"info\",\r\n          title: `${response.from}: ${response.message}`,\r\n        });\r\n      });\r\n    }\r\n  }, [socket]);\r\n\r\n  // useEffect(() => {\r\n  //   if (userList.length > 0) {\r\n  //     userList.map((data, index) => {\r\n  //       socket.emit(\"get-last-chat\", {\r\n  //         senderId: user.id,\r\n  //         targetId: data.id,\r\n  //         roomId: user.roomId,\r\n  //       });\r\n  //       socket.on(\"res-get-last-chat\", (response) => {\r\n  //         setLastChat(dataLastChat.concat(response));\r\n  //       });\r\n  //     });\r\n  //   }\r\n  // }, []);\r\n\r\n  return (\r\n    <div className=\"h-100vh\">\r\n      <div className=\"h-100\">\r\n        <div className=\"row no-gutters h-100 justify-content-end\">\r\n          {/* start condition from here */}\r\n          {queryRole === \"setting\" ? (\r\n            <DetailProfile queryRole={queryRole} />\r\n          ) : (\r\n            <div\r\n              className={`col-xl-3 col-md col-lg-4 border-right ${\r\n                showRoomChatMobile ? \"d-none d-lg-block\" : \"\"\r\n              }`}\r\n            >\r\n              <div className=\"container py-3 h-200px\">\r\n                <div className=\"row no-gutters\">\r\n                  <div className=\"col\">\r\n                    <h3 className=\"text-blue\">Telegram</h3>\r\n                  </div>\r\n                  <div className=\"col-2 d-flex justify-content-end\">\r\n                    <div className=\"dropdown\">\r\n                      <button\r\n                        className=\"btn noBorder-noSahdow\"\r\n                        type=\"button\"\r\n                        id=\"dropdownMenuButton\"\r\n                        data-toggle=\"dropdown\"\r\n                        aria-haspopup=\"true\"\r\n                        aria-expanded=\"false\"\r\n                      >\r\n                        <h3 className=\"m-0 text-blue text-right\">\r\n                          <i className=\"fas fa-stream\"></i>\r\n                        </h3>\r\n                      </button>\r\n                      <div\r\n                        className=\"dropdown-menu dropdown-menu-right rounded-dropdown bg-blue \"\r\n                        aria-labelledby=\"dropdownMenuButton\"\r\n                      >\r\n                        <div\r\n                          className=\"py-2 dropdown-item text-white pointer\"\r\n                          onClick={(e) => goSetting(e)}\r\n                        >\r\n                          <i className=\"fas fa-cog\"></i> &nbsp; Settings\r\n                        </div>\r\n                        <div className=\"py-2 dropdown-item text-white\">\r\n                          <i className=\"far fa-user\"></i>\r\n                          &nbsp; Contacts\r\n                        </div>\r\n                        <div className=\"py-2 dropdown-item text-white\">\r\n                          <i className=\"fas fa-phone\"></i>\r\n                          &nbsp; Calls\r\n                        </div>\r\n                        <div className=\"py-2 dropdown-item text-white\">\r\n                          <i className=\"fas fa-save\"></i>\r\n                          &nbsp; Save Messages\r\n                        </div>\r\n                        <div className=\"py-2 dropdown-item text-white\">\r\n                          <i className=\"fas fa-user-plus\"></i>\r\n                          &nbsp; Invite Friends\r\n                        </div>\r\n                        <div className=\"py-2 dropdown-item text-white\">\r\n                          <i className=\"far fa-question-circle\"></i>\r\n                          &nbsp; Telegram FAQ\r\n                        </div>\r\n                        <div\r\n                          className=\"py-2 dropdown-item text-white pointer\"\r\n                          onClick={handleLogout}\r\n                        >\r\n                          <i className=\"fas fa-sign-out-alt\"></i>\r\n                          &nbsp;Logout\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"row no-gutters pt-4\">\r\n                  <div className=\"col d-flex\">\r\n                    <span className=\"align-self-center w-100\">\r\n                      <div className=\"input-group\">\r\n                        <div className=\"input-group-prepend\">\r\n                          <span\r\n                            className=\"input-group-text bg-light border-0\"\r\n                            id=\"basic-addon2\"\r\n                          >\r\n                            <i className=\"fas fa-search\"></i>\r\n                          </span>\r\n                        </div>\r\n                        <input\r\n                          type=\"text\"\r\n                          className=\"form-control bg-light border-0\"\r\n                          placeholder=\"Search\"\r\n                          onKeyUp={(e) => setSearchUser(e.target.value)}\r\n                        />\r\n                      </div>\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"col-2 d-flex justify-content-end\">\r\n                    <span className=\"align-self-center\">\r\n                      <div>\r\n                        <h3 className=\"text-blue\">\r\n                          <i className=\"fas fa-plus\"></i>\r\n                        </h3>\r\n                      </div>\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <div className=\"row no-gutters pt-3\">\r\n                    <div className=\"col\">\r\n                      <button className=\"btn btn-block btn-blue br-30px\">\r\n                        All\r\n                      </button>\r\n                    </div>\r\n                    <div className=\"col \">\r\n                      <button className=\"btn btn-block br-30px\">\r\n                        Important\r\n                      </button>\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <button className=\"btn btn-block br-30px\">Unread</button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"overflow-auto h-remaining-header w-100\">\r\n                {userList.length > 0 ? (\r\n                  userList.map((data, index) => {\r\n                    return (\r\n                      <span key={index}>\r\n                        <div className=\"div-untuk-perulangan\">\r\n                          <ListChat\r\n                            dataTarget={data}\r\n                            // lastChat={dataLastChat[index]}\r\n                            onClick={(e) => handleClickListChat(index)}\r\n                          />\r\n                        </div>\r\n                      </span>\r\n                    );\r\n                  })\r\n                ) : (\r\n                  <div className=\"d-flex h-remaining-header justify-content-center\">\r\n                    <div className=\"align-self-center\">\r\n                      <div className=\"align-self-center\">\r\n                        <div className=\"text-decoration-none\">\r\n                          <h3 className=\"text-blue text-center\">\r\n                            User not found\r\n                          </h3>\r\n                          <p className=\"text-muted text-center\">\r\n                            Start chat with other contact\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n          <RoomChat showRoomChat={showRoomChat} queryRole={queryRole} />\r\n          <ProfileFriends />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Chat;\r\n","import React from \"react\";\r\nimport { BrowserRouter as Router, Switch } from \"react-router-dom\";\r\nimport PublicRoute from \"./module/PublicRoute\";\r\nimport PrivateRoute from \"./module/PrivateRoute\";\r\n\r\n// import pages\r\nimport Login from \"../../pages/Login\";\r\nimport Register from \"../../pages/Register\";\r\nimport ForgotPassword from \"../../pages/ForgotPassword\";\r\nimport Chat from \"../../pages/Chat\";\r\n\r\nfunction MainRoute() {\r\n  return (\r\n    <Router>\r\n      <Switch>\r\n        <PublicRoute exact path=\"/\" component={Login} />\r\n        <PublicRoute path=\"/register\" component={Register} />\r\n        <PublicRoute path=\"/forgot-password\" component={ForgotPassword} />\r\n        <PrivateRoute path=\"/Chat\" component={Chat} />\r\n      </Switch>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default MainRoute;\r\n","const initialState = {\r\n  user: {},\r\n  loading: false,\r\n  error: \"\",\r\n  showFriendsProfile: false,\r\n  showRoomChatMobile: false,\r\n};\r\n\r\nconst userReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"USER_REQUEST\":\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n\r\n    case \"SHOW_FRIENDS_PROFILE\":\r\n      return {\r\n        ...state,\r\n        showFriendsProfile: true,\r\n      };\r\n\r\n    case \"CLOSE_FRIENDS_PROFILE\":\r\n      return {\r\n        ...state,\r\n        showFriendsProfile: false,\r\n      };\r\n\r\n    case \"SHOW_ROOMCHAT_MOBILE\":\r\n      return {\r\n        ...state,\r\n        showRoomChatMobile: true,\r\n      };\r\n\r\n    case \"CLOSE_ROOMCHAT_MOBILE\":\r\n      return {\r\n        ...state,\r\n        showRoomChatMobile: false,\r\n      };\r\n\r\n    case \"USER_FAILURE\":\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: action.payload,\r\n      };\r\n    case \"LOGIN\":\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        user: {\r\n          ...state.user,\r\n          ...action.payload,\r\n        },\r\n      };\r\n    case \"LOGOUT\":\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        user: {},\r\n      };\r\n\r\n    case \"GET_PROFILE\":\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        user: {\r\n          ...state.user,\r\n          ...action.payload,\r\n        },\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default userReducer;\r\n","import io from \"socket.io-client\";\r\nconst initialState = {\r\n  socket: io(process.env.REACT_APP_API_URL),\r\n  userList: [],\r\n  searchList: [],\r\n  listChat: [],\r\n  target: {\r\n    id: 0,\r\n    name: \"\",\r\n    image: \"default.png\",\r\n    socketId: \"\",\r\n  },\r\n};\r\n\r\nconst socketReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"EMPTYCHAT\":\r\n      return {\r\n        ...state,\r\n        userList: [],\r\n        searchList: [],\r\n        listChat: [],\r\n        target: {\r\n          id: 0,\r\n          name: \"\",\r\n          image: \"default.png\",\r\n          socketId: \"\",\r\n        },\r\n      };\r\n    case \"GET_USER_LIST\":\r\n      return {\r\n        ...state,\r\n        userList: action.payload,\r\n      };\r\n\r\n    case \"CHOOSE_TARGET\":\r\n      return {\r\n        ...state,\r\n        target: action.payload,\r\n      };\r\n\r\n    case \"GET_LIST_CHAT\":\r\n      return {\r\n        ...state,\r\n        listChat: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default socketReducer;\r\n","import { combineReducers } from \"redux\";\r\nimport userReducer from \"./user\";\r\nimport socketReducer from \"./socket\";\r\n\r\nconst rootReducer = combineReducers({\r\n  user: userReducer,\r\n  socket: socketReducer,\r\n});\r\n\r\nexport default rootReducer;\r\n","import { createStore, applyMiddleware } from \"redux\";\r\nimport rootReducer from \"./reducer\";\r\nimport logger from \"redux-logger\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nconst store = createStore(rootReducer, applyMiddleware(thunk, logger));\r\n\r\nexport default store;\r\n","import Route from \"./configs/router/MainRoute\";\nimport \"./global.css\";\nimport store from \"./configs/redux/store\";\nimport { Provider } from \"react-redux\";\n\n\n\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <Route />\n    </Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"./assets/fontawesome-free-5.15.3-web/css/all.min.css\";\r\nimport \"bootstrap-icons/font/bootstrap-icons.css\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}